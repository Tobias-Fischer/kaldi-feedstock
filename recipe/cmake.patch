From d2de748684ed4efd19e72d6f26eb3aeb70e36b3e Mon Sep 17 00:00:00 2001
From: Michael McAuliffe <michael.e.mcauliffe@gmail.com>
Date: Thu, 21 Oct 2021 15:35:12 -0700
Subject: [PATCH] Patch cmake build for Kaldi to better support windows and
 conda installation

---
 CMakeLists.txt                  |  90 ++++++++++++++++--------
 cmake/Utils.cmake               |   4 +-
 cmake/gen_cmake_skeleton.py     | 118 ++++++++++++++++++++++++--------
 cmake/third_party/openfst.cmake |  70 +++++++++++++++++--
 4 files changed, 218 insertions(+), 64 deletions(-)

diff --git a/CMakeLists.txt b/CMakeLists.txt
index 8b2de3a..12e7f53 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -8,6 +8,14 @@ set(CMAKE_MODULE_PATH "${CMAKE_CURRENT_SOURCE_DIR}/cmake;${CMAKE_MODULE_PATH}")
 include(GNUInstallDirs)
 include(Utils)
 
+if(CONDA_ROOT)
+    message(STATUS "Adding ${CONDA_ROOT} directories")
+    set(CONDA_INCLUDE, "${CONDA_ROOT}/include")
+    set(CONDA_LIB, "${CONDA_ROOT}/lib")
+
+    include_directories(${CONDA_INCLUDE})
+endif()
+
 include(third_party/get_third_party)
 
 include(cmake/third_party/openfst.cmake)
@@ -23,13 +31,20 @@ set(IS_LIB_SHARE "")
 if(BUILD_SHARED_LIBS)
     set(IS_LIB_SHARE "--shared")
 endif()
+set(    set(HAS_CONDA_ROOT "--conda_root")
+"")
+if(CONDA_ROOT)
+    set(HAS_CONDA_ROOT "--conda_root")
+endif()
 execute_process(COMMAND ${PYTHON_EXECUTABLE}
     "${CMAKE_CURRENT_SOURCE_DIR}/cmake/gen_cmake_skeleton.py"
     "${CMAKE_CURRENT_SOURCE_DIR}/src"
     "--quiet"
     ${IS_LIB_SHARE}
+    ${HAS_CONDA_ROOT}
 )
 unset(IS_LIB_SHARE)
+unset(HAS_CONDA_ROOT)
 
 set(CMAKE_CXX_STANDARD 14)
 set(CMAKE_CXX_EXTENSIONS OFF)
@@ -40,9 +55,9 @@ if(BUILD_SHARED_LIBS)
         set(CMAKE_WINDOWS_EXPORT_ALL_SYMBOLS ON)
         message(FATAL_ERROR "DLL is not supported currently")
     elseif(APPLE)
-        set(CMAKE_INSTALL_RPATH "@loader_path")
+        set(CMAKE_INSTALL_RPATH "@loader_path/../lib")
     else()
-        set(CMAKE_INSTALL_RPATH "$ORIGIN;$ORIGIN/../lib;$ORIGIN/../../tools/openfst/lib")
+        set(CMAKE_INSTALL_RPATH "$ORIGIN/../lib")
     endif()
 endif()
 
@@ -73,16 +88,19 @@ if(MATHLIB STREQUAL "OpenBLAS")
     include_directories(${CMAKE_CURRENT_SOURCE_DIR}/tools/CLAPACK)
     link_libraries(${BLAS_LIBRARIES} ${LAPACK_LIBRARIES})
 elseif(MATHLIB STREQUAL "MKL")
-    if(NOT DEFINED ENV{MKLROOT} OR "$ENV{MKLROOT}" STREQUAL "")
+    if(CONDA_ROOT)
+        set(MKLROOT "${CONDA_ROOT}")
+    elseif(NOT DEFINED ENV{MKLROOT} OR "$ENV{MKLROOT}" STREQUAL "")
         message(FATAL_ERROR "Environment variable MKLROOT is not defined")
     else()
         message(STATUS "Finding MKL from \"$ENV{MKLROOT}\"")
+        set(MKLROOT "$ENV{MKLROOT}")
+        normalize_env_path(MKLROOT)
     endif()
-    normalize_env_path(ENV{MKLROOT})
     set(BLA_VENDOR "Intel10_64lp_seq") # use the single threaded MKL by default
     find_package(LAPACK REQUIRED)
     add_definitions(-DHAVE_MKL=1)
-    include_directories($ENV{MKLROOT}/include)
+    include_directories("${MKLROOT}/include")
     link_libraries(${BLAS_LIBRARIES} ${LAPACK_LIBRARIES})
 elseif(MATHLIB STREQUAL "Accelerate")
     execute_process(COMMAND sw_vers -productVersion
@@ -166,10 +184,17 @@ endif()
 
 add_definitions(-DKALDI_NO_PORTAUDIO=1)
 
-include(VersionHelper)
-get_version() # this will set KALDI_VERSION and KALDI_PATCH_NUMBER
-if(${KALDI_USE_PATCH_NUMBER})
-    set(KALDI_VERSION "${KALDI_VERSION}.${KALDI_PATCH_NUMBER}")
+if(OVERRIDE_KALDI_VERSION)
+    set(KALDI_VERSION "${OVERRIDE_KALDI_VERSION}")
+    message(STATUS "Setting KALDI_VERSION to \"${KALDI_VERSION}\"")
+else()
+    message(STATUS "Setting KALDI_VERSION with get_version...")
+    include(VersionHelper)
+    include(VersionHelper)
+    get_version() # this will set KALDI_VERSION and KALDI_PATCH_NUMBER
+    if(${KALDI_USE_PATCH_NUMBER})
+        set(KALDI_VERSION "${KALDI_VERSION}.${KALDI_PATCH_NUMBER}")
+    endif()
 endif()
 
 # get_third_party(openfst)
@@ -208,8 +233,10 @@ add_subdirectory(src/nnet3)
 add_subdirectory(src/rnnlm)
 add_subdirectory(src/chain)
 add_subdirectory(src/ivector)
-add_subdirectory(src/online)
-add_subdirectory(src/online2)
+if(NOT MSVC)
+    add_subdirectory(src/online)
+    add_subdirectory(src/online2)
+endif()
 add_subdirectory(src/kws)
 
 add_subdirectory(src/itf)
@@ -228,6 +255,7 @@ endif()
 # add all native executables
 add_subdirectory(src/bin)
 add_subdirectory(src/gmmbin)
+add_subdirectory(src/fgmmbin)
 add_subdirectory(src/featbin)
 add_subdirectory(src/sgmm2bin)
 add_subdirectory(src/fstbin)
@@ -239,8 +267,10 @@ add_subdirectory(src/nnet3bin)
 add_subdirectory(src/rnnlmbin)
 add_subdirectory(src/chainbin)
 add_subdirectory(src/ivectorbin)
-add_subdirectory(src/onlinebin)
-add_subdirectory(src/online2bin)
+if(NOT MSVC)
+    add_subdirectory(src/onlinebin)
+    add_subdirectory(src/online2bin)
+endif()
 add_subdirectory(src/kwsbin)
 
 # add all cuda executables
@@ -249,19 +279,21 @@ if(CUDA_FOUND)
     add_subdirectory(src/cudadecoderbin)
 endif()
 
-include(CMakePackageConfigHelpers)
-# maybe we should put this into subfolder?
-configure_package_config_file(
-    ${CMAKE_CURRENT_SOURCE_DIR}/cmake/kaldi-config.cmake.in
-    ${CMAKE_CURRENT_BINARY_DIR}/cmake/kaldi-config.cmake
-    INSTALL_DESTINATION lib/cmake/kaldi
-)
-write_basic_package_version_file(
-    ${CMAKE_CURRENT_BINARY_DIR}/cmake/kaldi-config-version.cmake
-    VERSION ${KALDI_VERSION}
-    COMPATIBILITY AnyNewerVersion
-)
-install(FILES ${CMAKE_CURRENT_BINARY_DIR}/cmake/kaldi-config.cmake ${CMAKE_CURRENT_BINARY_DIR}/cmake/kaldi-config-version.cmake
-    DESTINATION lib/cmake/kaldi
-)
-install(EXPORT kaldi-targets DESTINATION ${CMAKE_INSTALL_PREFIX}/lib/cmake/kaldi)
+if(NOT CONDA_ROOT)
+    include(CMakePackageConfigHelpers)
+    # maybe we should put this into subfolder?
+    configure_package_config_file(
+        ${CMAKE_CURRENT_SOURCE_DIR}/cmake/kaldi-config.cmake.in
+        ${CMAKE_CURRENT_BINARY_DIR}/cmake/kaldi-config.cmake
+        INSTALL_DESTINATION lib/cmake/kaldi
+    )
+    write_basic_package_version_file(
+        ${CMAKE_CURRENT_BINARY_DIR}/cmake/kaldi-config-version.cmake
+        VERSION ${KALDI_VERSION}
+        COMPATIBILITY AnyNewerVersion
+    )
+    install(FILES ${CMAKE_CURRENT_BINARY_DIR}/cmake/kaldi-config.cmake ${CMAKE_CURRENT_BINARY_DIR}/cmake/kaldi-config-version.cmake
+        DESTINATION lib/cmake/kaldi
+    )
+    install(EXPORT kaldi-targets DESTINATION ${CMAKE_INSTALL_PREFIX}/lib/cmake/kaldi)
+endif()
\ No newline at end of file
diff --git a/cmake/Utils.cmake b/cmake/Utils.cmake
index c7f4582..9b5dfe8 100644
--- a/cmake/Utils.cmake
+++ b/cmake/Utils.cmake
@@ -23,7 +23,9 @@ macro(add_kaldi_executable)
         add_executable(${kaldi_exe_NAME} ${kaldi_exe_SOURCES})
         target_link_libraries(${kaldi_exe_NAME} PRIVATE ${kaldi_exe_DEPENDS})
         # list(APPEND KALDI_EXECUTABLES ${kaldi_exe_NAME})
-        install(TARGETS ${kaldi_exe_NAME} RUNTIME DESTINATION ${CMAKE_INSTALL_BINDIR})
+        install(TARGETS ${kaldi_exe_NAME}
+        RUNTIME DESTINATION ${CMAKE_INSTALL_BINDIR}
+        COMPONENT conda_kaldi)
 
         unset(kaldi_exe_NAME)
         unset(kaldi_exe_SOURCES)
diff --git a/cmake/gen_cmake_skeleton.py b/cmake/gen_cmake_skeleton.py
index 4181dc4..b96ff3d 100644
--- a/cmake/gen_cmake_skeleton.py
+++ b/cmake/gen_cmake_skeleton.py
@@ -15,36 +15,47 @@ parser = argparse.ArgumentParser()
 parser.add_argument("working_dir")
 parser.add_argument("--quiet", default=False, action="store_true")
 parser.add_argument("--shared", default=False, action="store_true")
+parser.add_argument("--conda_root", default=False, action="store_true")
 args = parser.parse_args()
 
+
 def print_wrapper(*args_, **kwargs):
     if not args.quiet:
         print(*args_, **kwargs)
 
+
 def get_subdirectories(d):
     return [name for name in os.listdir(d) if os.path.isdir(os.path.join(d, name))]
 
+
 def is_bin_dir(d):
     return d.endswith("bin")
 
+
 def get_files(d):
     return [name for name in os.listdir(d) if os.path.isfile(os.path.join(d, name)) and (name not in EXCLUDE_FILES)]
 
+
 def is_header(f):
     return f.endswith(".h")
 
+
 def is_cu_source(f):
     return f.endswith(".cu")
 
+
 def is_test_source(f):
     return f.endswith("-test.cc")
 
+
 def is_source(f):
     return f.endswith(".cc") and not is_test_source(f)
 
+
 def lib_dir_name_to_lib_target(dir_name):
     return "kaldi-" + dir_name
 
+
 def bin_dir_name_to_lib_target(dir_name):
     """return the primary lib target for all executable targets in this bin dir"""
     assert is_bin_dir(dir_name)
@@ -56,6 +67,7 @@ def bin_dir_name_to_lib_target(dir_name):
     else:
         return "kaldi-" + dir_name[:-3]
 
+
 def wrap_notwin32_condition(should_wrap, lines):
     if isinstance(lines, str):
         lines = [lines]
@@ -85,8 +97,8 @@ def get_exe_additional_depends(t):
         "phones-to-prons": ["fstext"],
 
         # solve gmmbin
-        "post-to-feats" : ["hmm"],
-        "append-post-to-feats" : ["hmm"],
+        "post-to-feats": ["hmm"],
+        "append-post-to-feats": ["hmm"],
         "gmm-*": ["hmm", "transform"],
         "gmm-latgen-*": ["decoder"],
         "gmm-decode-*": ["decoder"],
@@ -94,6 +106,21 @@ def get_exe_additional_depends(t):
         "gmm-align-compiled": ["decoder"],
         "gmm-est-fmllr-gpost": ["sgmm2", "hmm"],
         "gmm-rescore-lattice": ["hmm", "lat"],
+        "gmm-latgen-biglm-faster": ["hmm", "lat", "fstext", "decoder"],
+
+        # solve fgmmbin
+        "fgmm-global-acc-stats-post": ["gmm", "hmm"],
+        "fgmm-global-acc-stats": ["gmm"],
+        "fgmm-global-copy": ["gmm"],
+        "fgmm-global-est": ["gmm"],
+        "fgmm-global-get-frame-likes": ["gmm"],
+        "fgmm-global-gselect-to-post": ["gmm", "hmm"],
+        "fgmm-global-info": ["gmm", "hmm"],
+        "fgmm-global-init-from-accs": ["gmm"],
+        "fgmm-global-merge": ["gmm"],
+        "fgmm-global-sum-accs": ["gmm"],
+        "fgmm-global-to-gmm": ["gmm"],
+        "fgmm-gselect": ["gmm", "hmm"],
 
         # solve fstbin
         "make-grammar-fst": ["decoder"],
@@ -132,8 +159,9 @@ def get_exe_additional_depends(t):
     l = []
     for pattern in additional.keys():
         if fnmatch.fnmatch(t, pattern):
-            l.extend(list(map(lambda name: lib_dir_name_to_lib_target(name), additional[pattern])))
-    return sorted(list(set(l)))
+            l.extend(set(map(lambda name: lib_dir_name_to_lib_target(name), additional[pattern])))
+    return sorted(l)
+
 
 def disable_for_win32(t):
     disabled = [
@@ -145,11 +173,13 @@ def disable_for_win32(t):
     ]
     return t in disabled
 
+
 class CMakeListsHeaderLibrary(object):
-    def __init__(self, dir_name):
+    def __init__(self, dir_name, is_shared=False):
         self.dir_name = dir_name
         self.target_name = lib_dir_name_to_lib_target(self.dir_name)
         self.header_list = []
+        self.is_shared = is_shared
 
     def add_header(self, filename):
         self.header_list.append(filename)
@@ -174,21 +204,23 @@ class CMakeListsHeaderLibrary(object):
         ret.append("add_library(" + self.target_name + " INTERFACE)")
         ret.append("target_include_directories(" + self.target_name + " INTERFACE ")
         ret.append("    $<BUILD_INTERFACE:${CMAKE_CURRENT_SOURCE_DIR}/..>")
-        ret.append("    $<INSTALL_INTERFACE:include/kaldi>")
+        if self.is_shared:
+            ret.append("    $<INSTALL_INTERFACE:include/kaldi>")
         ret.append(")\n")
 
         ret.append("""
 install(TARGETS {tgt} EXPORT kaldi-targets)
-
-install(FILES ${{PUBLIC_HEADERS}} DESTINATION include/kaldi/{dir})
-""".format(tgt=self.target_name, dir=self.dir_name))
+if(BUILD_SHARED_LIBS)
+    install(FILES ${{PUBLIC_HEADERS}} DESTINATION include/kaldi/{dir})
+endif()""".format(tgt=self.target_name, dir=self.dir_name))
 
         return "\n".join(ret)
 
+
 class CMakeListsLibrary(object):
 
-    def __init__(self, dir_name, is_shared):
-        assert(type(is_shared) is bool)
+    def __init__(self, dir_name, is_shared, has_conda_root=False):
+        assert (type(is_shared) is bool)
 
         self.dir_name = dir_name
         self.target_name = lib_dir_name_to_lib_target(self.dir_name)
@@ -198,6 +230,7 @@ class CMakeListsLibrary(object):
         self.test_source_list = []
         self.depends = []
         self.is_shared = is_shared
+        self.has_conda_root = has_conda_root
 
     def add_header(self, filename):
         self.header_list.append(filename)
@@ -250,7 +283,10 @@ class CMakeListsLibrary(object):
         ret.append(")\n")
         ret.append("target_include_directories(" + self.target_name + " PUBLIC ")
         ret.append("     $<BUILD_INTERFACE:${CMAKE_CURRENT_SOURCE_DIR}/..>")
-        ret.append("     $<INSTALL_INTERFACE:include/kaldi>")
+        if self.has_conda_root:
+            ret.append("     $<BUILD_INTERFACE:${CONDA_ROOT}/include>")
+        else:
+            ret.append("     $<INSTALL_INTERFACE:include/kaldi>")
         ret.append(")\n")
 
         if len(self.depends) > 0:
@@ -272,28 +308,53 @@ class CMakeListsLibrary(object):
                 exe_target = get_test_exe_name(f)
                 depends = (self.target_name + " " + " ".join(get_exe_additional_depends(exe_target))).strip()
                 ret.extend(wrap_notwin32_condition(disable_for_win32(self.target_name),
-                    "    add_kaldi_test_executable(NAME " + exe_target + " SOURCES " + f + " DEPENDS " + depends + ")"))
+                                                   "    add_kaldi_test_executable(NAME " + exe_target + " SOURCES " + f + " DEPENDS " + depends + ")"))
             ret.append("endif()")
 
         ret.append("""
-install(TARGETS {tgt}
-    EXPORT kaldi-targets
-    ARCHIVE DESTINATION ${{CMAKE_INSTALL_LIBDIR}}
-    LIBRARY DESTINATION ${{CMAKE_INSTALL_LIBDIR}}
-    RUNTIME DESTINATION ${{CMAKE_INSTALL_BINDIR}}
-)
-
-install(FILES ${{PUBLIC_HEADERS}} DESTINATION include/kaldi/{dir})
-""".format(tgt=self.target_name, dir=self.dir_name))
+if(MSVC)
+    install(TARGETS {tgt}
+        EXPORT kaldi-targets
+        RUNTIME 
+            DESTINATION ${{CMAKE_INSTALL_BINDIR}}
+            COMPONENT conda_kaldi
+    )
+
+else()
+if(CONDA_ROOT)
+    install(TARGETS {tgt}
+        EXPORT kaldi-targets
+        LIBRARY 
+            DESTINATION ${{CMAKE_INSTALL_LIBDIR}}
+            NAMELINK_SKIP
+            COMPONENT conda_kaldi
+        RUNTIME 
+            DESTINATION ${{CMAKE_INSTALL_BINDIR}}
+            COMPONENT conda_kaldi
+    )
+else()
+    install(TARGETS {tgt}
+        EXPORT kaldi-targets
+        ARCHIVE 
+            DESTINATION ${{CMAKE_INSTALL_LIBDIR}}
+        LIBRARY 
+            DESTINATION ${{CMAKE_INSTALL_LIBDIR}}
+        RUNTIME 
+            DESTINATION ${{CMAKE_INSTALL_BINDIR}}
+    )
+
+    install(FILES ${{PUBLIC_HEADERS}} DESTINATION include/kaldi/{dir})
+endif()
+
+endif()""".format(tgt=self.target_name, dir=self.dir_name))
 
         return "\n".join(ret)
 
 
-
 class CMakeListsExecutable(object):
 
     def __init__(self, dir_name, filename):
-        assert(dir_name.endswith("bin"))
+        assert (dir_name.endswith("bin"))
         self.list = []
         exe_name = os.path.splitext(os.path.basename(filename))[0]
         file_name = filename
@@ -303,14 +364,17 @@ class CMakeListsExecutable(object):
     def gen_code(self):
         ret = []
         for exe_name, file_name, depend in self.list:
-            depends = (depend + " " + " ".join(get_exe_additional_depends(exe_name))).strip()
+            if exe_name.startswith('fgmm'):
+                depends =(" ".join(get_exe_additional_depends(exe_name))).strip()
+            else:
+                depends = (depend + " " + " ".join(get_exe_additional_depends(exe_name))).strip()
             ret.extend(wrap_notwin32_condition(disable_for_win32(exe_name),
-                       "add_kaldi_executable(NAME " + exe_name + " SOURCES " + file_name + " DEPENDS " + depends + ")"))
+                                               "add_kaldi_executable(NAME " + exe_name + " SOURCES " + file_name + " DEPENDS " + depends + ")"))
 
         return "\n".join(ret)
 
-class CMakeListsFile(object):
 
+class CMakeListsFile(object):
     GEN_CMAKE_HEADER = "# generated with cmake/gen_cmake_skeleton.py, DO NOT MODIFY.\n"
 
     def __init__(self, directory):
diff --git a/cmake/third_party/openfst.cmake b/cmake/third_party/openfst.cmake
index edb4314..81af029 100644
--- a/cmake/third_party/openfst.cmake
+++ b/cmake/third_party/openfst.cmake
@@ -9,17 +9,73 @@ FetchContent_Declare(
 
 FetchContent_GetProperties(openfst)
 if(NOT openfst_POPULATED)
+    message(STATUS "Openfst? CONDA_ROOT ${CONDA_ROOT}")
     FetchContent_Populate(openfst)
     include_directories(${openfst_SOURCE_DIR}/src/include)
 
     add_subdirectory(${openfst_SOURCE_DIR} ${openfst_BINARY_DIR})
+    if(CONDA_ROOT)
 
-    install(DIRECTORY ${openfst_SOURCE_DIR}/src/include/ DESTINATION include/
-            FILES_MATCHING PATTERN "*.h")
+        if(MSVC)
+            install(TARGETS fstarcsort fstclosure fstcompile fstcompose fstconcat fstconnect fstconvert fstdeterminize
+                            fstdifference fstdisambiguate fstdraw fstencode fstepsnormalize fstequal fstequivalent
+                            fstinfo fstintersect fstinvert fstisomorphic fstmap fstminimize fstprint fstproject fstprune
+                            fstpush fstrandgen fstrelabel fstreplace fstreverse fstreweight fstrmepsilon fstshortestdistance
+                            fstshortestpath fstsymbols fstsynchronize fsttopsort fstunion
+            RUNTIME
+                DESTINATION ${CMAKE_INSTALL_BINDIR}
+                COMPONENT conda_kaldi
+            )
+            install(TARGETS farcompilestrings farcreate farequal farextract farinfo farisomorphic farprintstrings
+            RUNTIME
+                DESTINATION ${CMAKE_INSTALL_BINDIR}
+                COMPONENT conda_kaldi
+            )
+            install(TARGETS fstlinear fstloglinearapply
+            RUNTIME
+                DESTINATION ${CMAKE_INSTALL_BINDIR}
+                COMPONENT conda_kaldi
+            )
+            install(TARGETS mpdtcompose mpdtexpand mpdtinfo mpdtreverse
+            RUNTIME
+                DESTINATION ${CMAKE_INSTALL_BINDIR}
+                COMPONENT conda_kaldi
+            )
+            install(TARGETS pdtcompose pdtexpand pdtinfo pdtreplace pdtreverse pdtshortestpath
+            RUNTIME
+                DESTINATION ${CMAKE_INSTALL_BINDIR}
+                COMPONENT conda_kaldi
+            )
+            install(TARGETS fstspecial
+            RUNTIME
+                DESTINATION ${CMAKE_INSTALL_BINDIR}
+                COMPONENT conda_kaldi
+            )
+        else()
+
+            install(TARGETS fst
+                    LIBRARY
+                        DESTINATION ${CMAKE_INSTALL_LIBDIR}
+                        COMPONENT conda_kaldi
+                        NAMELINK_SKIP
+                    )
+
+        endif()
+    else()
+        install(DIRECTORY ${openfst_SOURCE_DIR}/src/include/ DESTINATION include/
+                FILES_MATCHING PATTERN "*.h")
+    endif()
+
+
+        install(TARGETS fst
+                EXPORT kaldi-targets
+                LIBRARY
+                    DESTINATION ${CMAKE_INSTALL_LIBDIR}
+                    COMPONENT conda_kaldi
+                    NAMELINK_SKIP
+                RUNTIME
+                    DESTINATION ${CMAKE_INSTALL_BINDIR}
+                    COMPONENT conda_kaldi
+                )
 
-    install(TARGETS fst
-            EXPORT kaldi-targets
-            ARCHIVE DESTINATION ${CMAKE_INSTALL_LIBDIR}
-            LIBRARY DESTINATION ${CMAKE_INSTALL_LIBDIR}
-            RUNTIME DESTINATION ${CMAKE_INSTALL_BINDIR})
 endif()
-- 
2.33.1

